# [2018 Round H](https://codingcompetitions.withgoogle.com/kickstart/round/0000000000050ee2)

## Big Buttons
有红黑两个按钮，一共需要按 N 次，得到长度为 N 的序列（红黑）。  
现在禁止出现 P 种不同的前缀。问可以得到多少种序列？

**Limits**  
1 ≤ T ≤ 100.  
Time limit: 20 seconds per test set.  
Memory limit: 1 GB.  
1 ≤ P ≤ min(2^N, 100).  

Large dataset (Test set 2 - Hidden)  
1 ≤ N ≤ 50.

### 解答

求出禁止的序列为 2^(N-len)，len 为禁止串的长度。  
然而禁止序列中会有重复的情况。可以删去前缀出现过的情况。

***

## Mural
墙上有 N 幅画价值为 0~9 中的一个值。现在每天晚上都会冲走最左边或者最右边的画。现在每天早上在上面加防水涂层，第一天可以选择任意一幅画，之后每天可以涂已经涂好的画的相邻位置的画。问能够保留画的最大价值是多少？  
注：如果最左边涂上了防水层，则水不能冲掉最左边。

### 解答
如果从最左边开始刷，则水只能从右往左冲，两者在中间相遇。可以保留画价值为左边 `L = N/2 + N%2` 幅画的价值。可证，任何长为 L 的子序列都可以被保留。先涂子序列中央的画（偶数幅则在两幅中随机选取一幅），则整个序列被这幅画分为左右两部分。对于右边而言，相当于是从最左边开始刷，水只能从右往左冲，会在中间相遇。左边同理。根据来水情况选择保护左边或者右边。

因此等价于求长度为 L 的价值最大的子序列。